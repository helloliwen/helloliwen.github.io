---
title: 设计模式
categories:
  - Java
tags: 面试
description: 设计模式
abbrlink: 364ea8cc
date: 2019-07-16 16:17:47
keywords:
---

## 1.说一下你熟悉的设计模式

[常用的设计模式汇总，超详细！](http://mp.weixin.qq.com/s?__biz=MzIwMTY0NDU3Nw==&mid=2651938221&idx=1&sn=9cb29d1eb0fdbdb5f976306b08d5bdcc&chksm=8d0f32e3ba78bbf547c6039038682706a2eaf83002158c58060d5eb57bdd83eb966a1e223ef6&scene=21#wechat_redirect)

## 2.简单工厂、工厂模式、抽象工厂模式

1. 简单工厂

　　这个模式本身很简单而且使用在业务较简单的情况下。一般用于小项目或者具体产品很少扩展的情况（这样工厂类才不用经常更改）。

它由三种角色组成：

- 工厂类角色：这是本模式的核心，含有一定的商业逻辑和判断逻辑，根据逻辑不同，产生具体的工厂产品。如例子中的Driver类。
- 抽象产品角色：它一般是具体产品继承的父类或者实现的接口。由接口或者抽象类来实现。如例中的Car接口。
- 具体产品角色：工厂类所创建的对象就是此角色的实例。在java中由一个具体类实现，如例子中的Benz、Bmw类。

![](http://ww1.sinaimg.cn/large/75a4a8eegy1g51ryuq2tsj20ic0dwjs2.jpg)

2. 工厂模式

　　工厂方法是针对每一种产品提供一个工厂类。通过不同的工厂实例来创建不同的产品实例。在同一等级结构中，支持增加任意产品。

![](http://ww1.sinaimg.cn/large/75a4a8eegy1g51rzfzrhhj20ic0dxmxz.jpg)

3. 抽象工厂方法

　　抽象工厂是应对产品族概念的。比如说，每个汽车公司可能要同时生产轿车，货车，客车，那么每一个工厂都要有创建轿车，货车和客车的方法。应对产品族概念而生，增加新的产品线很容易，但是无法增加新的产品。

![](http://ww1.sinaimg.cn/large/75a4a8eegy1g51s06p2bjj20iw0jawfw.jpg)

　　**可以这么说，它和工厂方法模式的区别就在于需要创建对象的复杂程度上。而且抽象工厂模式是三个里面最为抽象、最具一般性的。抽象工厂模式的用意为：给客户端提供一个接口，可以创建多个产品族中的产品对象。**

**小结**

- 工厂模式中，重要的是工厂类，而不是产品类。产品类可以是多种形式，多层继承或者是单个类都是可以的。但要明确的，工厂模式的接口只会返回一种类型的实例，这是在设计产品类的时候需要注意的，最好是有父类或者共同实现的接口。

- 使用工厂模式，返回的实例一定是工厂创建的，而不是从其他对象中获取的。

- 工厂模式返回的实例可以不是新创建的，返回由工厂创建好的实例也是可以的。

**区别**

简单工厂：用来生产同一等级结构中的任意产品。（对于增加新的产品，无能为力）

工厂模式：用来生产同一等级结构中的固定产品。（支持增加任意产品）   

抽象工厂：用来生产不同产品族的全部产品。（对于增加新的产品，无能为力；支持增加产品族）

以上三种工厂 方法在等级结构和产品族这两个方向上的支持程度不同。所以要根据情况考虑应该使用哪种方法。  

参考：

[简单工厂、工厂方法模式、抽象工厂模式](https://www.jianshu.com/p/6d447cea14c7)

[设计模式：简单工厂、工厂方法、抽象工厂之小结与区别](https://blog.csdn.net/superbeck/article/details/4446177)

